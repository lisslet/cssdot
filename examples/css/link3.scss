/// Get style map that initializes properties used in other styles.
/*@function get-initialize-styles2($styles) {
  $initialize-styles: ();
  @each $style, $properties in $styles {
    $initialize-style: ();

    @each $other-style, $other-properties in $styles {
      @each $property, $value in $other-properties {
        @if not has-key($properties, $property) {
          @if not has-key($initialize-style, $property) {
            $initialize-style: map-set($initialize-style, $property, 'inherit');
          }
        }
      }
    }
    $initialize-styles: map-set($initialize-styles, $style, $initialize-style);
  }
  @return $initialize-styles;
}

@function get-initialize-styles($styles) {
  $initial-styles: ();

  @each $style, $states in $styles {
    $initial-style: ();

    @each $state, $properties in $states {
      $initial-states: ();
      @each $other-style, $other-states in $styles {

        // @if $style != $other-style {

        @each $other-state, $other-properties in $other-states {
          $initial-state: ();
          // @if $state == $other-state {

          @each $property, $value in $other-properties {

            // @if not has-key($properties, $property) {

            // @if not has-key($initial-state, $property) {

            $initial-state: map-set($initial-state, $property, 'inherit');

            // }
            // }
          }


          // }
          $initial-states: map-set($initial-states, $state, $initial-state);
        }

        $initial-styles: map-set($initial-styles, $style, $initial-states);
        // }

      }

    }

  }
  @return $initial-styles;
}*/


$STYLES: (
        'clean': (
                'normal': (
                        color: 'color',
                ),
                'focus': (
                        color: ('color', 0.1)
                ),
                'react': (
                        color: ('color', 'bright')
                )
        ),
        'fill': (
                'normal': (
                        background-color: 'color',
                        color: 'text'
                ),
                'focus': (
                        background-color: ('color', 'bright', 0.1)
                ),
                'react': (
                        background-color: ('color', 'bright', 0.2)
                )
        ),
        'border': (
                'normal': (
                        border-color: 'color',
                        color: 'color'
                ),
                'focus': (
                        border-color: ('color', 'bright', 0.1),
                ),
                'react': (
                        border-color: ('color', 'bright', 0.2),
                        color: 'color'
                )
        ),
        'line': (
                'normal': (
                        border-color: 'color',
                        color: 'color',
                        border-bottom-left-radius: 0,
                        border-bottom-right-radius: 0
                ),
                'focus': (
                        border-color: ('color', 'bright', 0.1),
                ),
                'react': (
                        border-color: ('color', 'bright'),
                        color: 'color'
                )
        ),
);

@function get-initialize-styles($styles) {
  $initial-styles: ();

  @each $style, $states in $styles {
    $initial-style: ();

    @each $state, $properties in $states {

      @each $other-style, $other-states in $styles {
        @if $style != $other-style {

          $initial-state: ();
          @each $other-state, $other-properties in $other-states {
            @if $state == $other-state {

              @each $property, $value in $other-properties {
                @if not map-has-key($properties, $property) {
                  @if not map-has-key($initial-state, $property) {
                    $initial-state: map-merge($initial-state, ($property: 'inherit'));
                  }
                }
              }
            }
          }
          $initial-style: map-merge($initial-style, ($state: $initial-state));
        }
      }

      $initial-styles: map-merge($initial-styles, ($style: $initial-style));

    }
  }
  @return $initial-styles;
}

$INITIALIZED-STYLES: get-initialize-styles($STYLES);

@debug $INITIALIZED-STYLES;