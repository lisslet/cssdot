@import '../ratio/only';

@mixin box-rule($options: null) {
  $options: rule-arguments($options, null, box);
  $selector: map-get($options, selector);

  $bg-color: map-get-if($options, -bg-c(), #fff);
  $shadow: map-get-if($options, shadow box-shadow, (0 2px 1px -1px rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .14), 0 1px 3px 0 rgba(0, 0, 0, .12)));

  @at-root #{$selector} {
    &es #{$selector} {
      @include bottom-gap;
    }

    display: block;
    background-color: $bg-color;

    @if ($shadow) {
      box-shadow: $shadow;
    }

    &_full {
      height: 100%;
    }

    &-pad {
      padding: 1.256rem;
    }

    &-head + &-main,
    &-main + &-foot {
      #{$selector}-pad {
        padding-top: 0;
      }
    }

    &-media {
      @include ratio-child-rule((sub-prefix:null));
      position: relative;
      &-area {
        position: absolute;
      }
    }

    &-main {
    }

    &-foot {
    }

  }

  @include frame-stretch($selector, $selector+'-main');
}

@mixin box-child-rule($options: null) {
  @include box-rule(arguments($options, (parent-selector: unquote("#{&}"))));
}
